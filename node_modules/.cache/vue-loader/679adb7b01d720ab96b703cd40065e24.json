{"remainingRequest":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\src\\components\\MainPage.vue?vue&type=style&index=0&id=109177d0&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\src\\components\\MainPage.vue","mtime":1640623349849},{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\marko\\IdeaProjects\\formula1_portal_web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbnB1dEZpbGVzIHsKICB3aWR0aDogNTAlOwogIG1hcmdpbiA6IDAgYXV0bzsKICBtYXJnaW4tdG9wOiAxJTsKfQouY29tcGFyZUZpbGVzIHsKICB3aWR0aDogNTAlOwogIG1hcmdpbiA6IDAgYXV0bzsKICBtYXJnaW4tdG9wOjElOwp9Ci51bm1hdGNoZWRSZXBvcnRCdXR0b24gewogIG1hcmdpbi10b3A6IDElOwp9Ci51bm1hdGNoZWRSZXBvcnREaXYgewogIG1hcmdpbi10b3A6IDElOwp9Ci51bm1hdGNoZWRSZXBvcnRUYWJsZUZpbGUxQ2xhc3N7CiAgZmxvYXQ6IGxlZnQ7CiAgd2lkdGg6IDQ4JTsKICBtYXJnaW4tbGVmdDoyJTsKfQoudW5tYXRjaGVkUmVwb3J0VGFibGVGaWxlMkNsYXNzewogIGZsb2F0OiBsZWZ0OwogIHdpZHRoOiA0OCU7CiAgbWFyZ2luLWxlZnQ6MiU7Cn0KLmNsZWFyQnV0dG9uewogIG1hcmdpbjogMCBhdXRvOwogIHdpZHRoOiA1MCU7CiAgbWFyZ2luLXRvcDogMSU7Cn0K"},{"version":3,"sources":["MainPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <b-button class=\"clearButton\" block variant=\"outline-danger\" v-show=\"showClearButton\" @click=\"clearScreen()\">Clear</b-button>\r\n    <div class=\"inputFiles\">\r\n      <b-form-group label=\"Select File 1:\" label-cols-sm=\"2\" label-size=\"sm\">\r\n        <b-form-file \r\n          v-model=\"file1\"\r\n          :state=\"Boolean(file1)\"\r\n          placeholder=\"Choose a file or drop it here...\"\r\n          id=\"file1\" \r\n          size=\"sm\"\r\n          accept=\".csv\"\r\n          > \r\n        </b-form-file>\r\n        <div class=\"validationError\" v-if=\"!$v.file1.required\"></div>\r\n      </b-form-group>\r\n      <b-form-group label=\"Select File 2:\" label-cols-sm=\"2\" label-size=\"sm\">\r\n        <b-form-file \r\n          v-model=\"file2\"\r\n          :state=\"Boolean(file2)\"\r\n          placeholder=\"Choose a file or drop it here...\" \r\n          id=\"file2\"\r\n          size=\"sm\"\r\n          accept=\".csv\"\r\n          >\r\n        </b-form-file>\r\n        <div class=\"validationError\" v-if=\"!$v.file1.required\"></div>\r\n      </b-form-group>\r\n        <b-button block variant=\"outline-success\" @click=\"sendFiles\" :disabled=\"checkCompareValidations()\">Compare</b-button>\r\n    </div>\r\n    <div class=\"compareFiles\" v-show=\"!showCompareResults\">\r\n      <b-card-group deck>\r\n        <b-card\r\n          :header=file1.name\r\n        >\r\n          <b-card-text>Total Records: {{totalRecordsFile1}}</b-card-text>\r\n          <b-card-text>Matching Records: {{matchingRecordsFile1}}  </b-card-text>\r\n          <b-card-text>Unmatched Records: {{totalUnmatchedRecordsFile1}}</b-card-text>\r\n        </b-card>\r\n\r\n        <b-card :header=file2.name>\r\n          <b-card-text>Total Records: {{totalRecordsFile2}} </b-card-text>\r\n          <b-card-text>Matching Records: {{matchingRecordsFile2}} </b-card-text>\r\n          <b-card-text>Unmatched Records: {{totalUnmatchedRecordsFile2}} </b-card-text>\r\n        </b-card>\r\n      </b-card-group>\r\n      <b-button block variant=\"outline-info\" class=\"unmatchedReportButton\" :disabled=\"this.totalUnmatchedRecordsFile2 == 0 && this.totalUnmatchedRecordsFile1 == 0\" @click=\"showUnmatchedReportTables()\">Unmatched Report</b-button>\r\n    </div>\r\n    <div class=\"unmatchedReportDiv\" v-show=\"!showUnmatchedReport\">\r\n      <b-table\r\n        caption-top\r\n        sticky-header\r\n        no-border-collapse\r\n        small\r\n        head-variant=\"light\"\r\n        responsive\r\n        :items=\"unmatchedRecordsFile1\"\r\n        :fields=\"fieldsUnmatchedReport\"\r\n        ref=\"unmatchedReportTableFile1\"\r\n        id=\"unmatchedReportTableFile1\"\r\n        class=\"unmatchedReportTableFile1Class\"\r\n      >\r\n        <template #table-caption>{{ file1.name }}</template>\r\n      </b-table>\r\n      <b-table\r\n        caption-top\r\n        sticky-header\r\n        no-border-collapse\r\n        small\r\n        head-variant=\"light\"\r\n        responsive\r\n        :items=\"unmatchedRecordsFile2\"\r\n        :fields=\"fieldsUnmatchedReport\"\r\n        ref=\"unmatchedReportTableFile2\"\r\n        id=\"unmatchedReportTableFile2\"\r\n        class=\"unmatchedReportTableFile2Class\"\r\n      >\r\n        <template #table-caption>{{ file2.name }}</template>\r\n      </b-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { required } from 'vuelidate/lib/validators'\r\nexport default {\r\n  name: 'MainPage',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data : function() {\r\n    return {\r\n        file1: '',\r\n        file2: '',\r\n        showClearButton: false,\r\n        showUnmatchedReport: true,\r\n        showCompareResults: true,\r\n        totalRecordsFile1: '',\r\n        matchingRecordsFile1: '',\r\n        totalUnmatchedRecordsFile1: '',\r\n        totalRecordsFile2: '',\r\n        matchingRecordsFile2: '',\r\n        totalUnmatchedRecordsFile2: '',\r\n        unmatchedRecordsFile1: [],\r\n        unamtchedRecordsFile2: [],\r\n        fieldsUnmatchedReport: [\r\n                // {key: 'profileName', label: 'Profile Name' },\r\n                {key: 'connection', label: 'Connection', sortable: true},\r\n                {key: 'transactionDate', label: 'Tran. Date', sortable: true},\r\n                {key: 'walletReference', label: 'Wallet' },\r\n                {key: 'transactionAmount', label: 'Tran. Amount', sortable: true},\r\n                // {key: 'transactionNarrative', label: 'Tran. Narrative' },\r\n                // {key: 'transactionDescription', label: 'Tran. Description' },\r\n                // {key: 'transactionID', label: 'Tran. ID' },\r\n                // {key: 'transactionType', label: 'Tran. Type' },\r\n            ],\r\n    } \r\n  },\r\n  validations: {\r\n    file1: {\r\n        required\r\n    },\r\n    file2: {\r\n        required\r\n    },\r\n  },\r\n  methods: {\r\n    showUnmatchedReportTables(){\r\n      this.showUnmatchedReport = false;\r\n    },\r\n    makeToast(title, variant, content, delay) {\r\n      this.$bvToast.toast(content, {\r\n          title: title,\r\n          toaster: 'b-toaster-top-right',\r\n          variant: variant,\r\n          solid: true,\r\n          \"auto-hide-delay\": delay\r\n      })\r\n    },\r\n    clearScreen(){\r\n      this.showCompareResults = true;\r\n      this.showUnmatchedReport = true;\r\n      this.file2 = '';\r\n      this.file1 = '';\r\n      this.totalRecordsFile1 = '';\r\n      this.totalUnmatchedRecordsFile1 = '';\r\n      this.matchingRecordsFile1 = '';\r\n      this.unmatchedRecordsFile1 = [];\r\n      this.totalRecordsFile2 = '';\r\n      this.totalUnmatchedRecordsFile2 = '';\r\n      this.matchingRecordsFile2 = '';\r\n      this.unmatchedRecordsFile2 = [];\r\n      this.showClearButton = false;\r\n    },\r\n    checkCompareValidations (){\r\n      if(this.$v.file1.$invalid || this.$v.file2.$invalid)\r\n        return true;\r\n      else\r\n        return false;\r\n    },\r\n\r\n    clearData(){\r\n      this.showCompareResults = true;\r\n      this.showUnmatchedReport = true;\r\n      this.showClearButton = false;\r\n    },\r\n\r\n    sendFiles() {\r\n      this.clearData();\r\n      const headers = {\r\n        'Content-Type': '\"multipart/form-data\"'       \r\n      }\r\n      let formData1 = new FormData();\r\n      formData1.append('csvFile', this.file1);\r\n      formData1.append('csvFile2', this.file2);\r\n      console.log(formData1)\r\n      let URL = 'api/uploadFiles';\r\n      let promise = axios.post(URL, formData1, {\r\n        headers: headers\r\n        })\r\n      return promise.then((response) => {\r\n          if(response.data.responseMessage == 'SUCCESS'){\r\n            alert('Password Changed Successfully');\r\n            this.totalRecordsFile1 = response.data.totalNumberFile1;\r\n            this.totalUnmatchedRecordsFile1 = response.data.unmatchedRecordsFile1;\r\n            this.matchingRecordsFile1 = this.totalRecordsFile1 - this.totalUnmatchedRecordsFile1;\r\n            this.unmatchedRecordsFile1 = response.data.clientProfileFile1;\r\n            this.totalRecordsFile2 = response.data.totalNumberFile2;\r\n            this.totalUnmatchedRecordsFile2 = response.data.unmatchedRecordsFile1;\r\n            this.matchingRecordsFile2 = this.totalRecordsFile2 - this.totalUnmatchedRecordsFile2;\r\n            this.unmatchedRecordsFile2 = response.data.clientProfileFile2;\r\n            this.showCompareResults = false;\r\n            this.makeToast('File Comparison Finished', 'primary', response.data.responseMessage, 10000);\r\n            this.showClearButton = true;\r\n          }else{\r\n            this.makeToast('File Comparison Failed', 'warning', response.data.responseMessage, 10000);\r\n          }\r\n\r\n        },\r\n        ).catch(err => {\r\n          this.makeToast('File Comparison Failed', 'danger', err, 10000);\r\n\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .inputFiles {\r\n    width: 50%;\r\n    margin : 0 auto;\r\n    margin-top: 1%;\r\n  }\r\n  .compareFiles {\r\n    width: 50%;\r\n    margin : 0 auto;\r\n    margin-top:1%;\r\n  }\r\n  .unmatchedReportButton {\r\n    margin-top: 1%;\r\n  }\r\n  .unmatchedReportDiv {\r\n    margin-top: 1%;\r\n  }\r\n  .unmatchedReportTableFile1Class{\r\n    float: left;\r\n    width: 48%;\r\n    margin-left:2%;\r\n  }\r\n  .unmatchedReportTableFile2Class{\r\n    float: left;\r\n    width: 48%;\r\n    margin-left:2%;\r\n  }\r\n  .clearButton{\r\n    margin: 0 auto;\r\n    width: 50%;\r\n    margin-top: 1%;\r\n  }\r\n</style>\r\n"]}]}